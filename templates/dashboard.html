{% extends 'base.html' %}

{% block content %}

{% for message in get_flashed_messages() %}
  
  <div class="alert alert-success alert-dismissible fade show" role="alert">
    {{ message }}
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>

{% endfor %}

  <h2>Dashboard</h2>
  <br/>

  <div class="card">
    <div class="card-header">
      {{ current_user.name }}
    </div>
    <div class="card-body">
      <h5 class="card-title">Welcome To Your User Dashboard...</h5>
      <strong>Name:</strong> {{ current_user.name }}<br/>
      <strong>Username:</strong> {{ current_user.username }} <br/>
      <strong>User ID:</strong> {{ current_user.id }} <br/>
      <strong>Email:</strong> {{ current_user.email }} <br/>
      <strong>Date Joined:</strong> {{ current_user.date_added }} <br/><br/>
      <a href="{{ url_for('logout')}}" class="btn btn-secondary btn-sm">Log Out</a>
      <a href="{{ url_for('user_delete', id=current_user.id) }}" class="btn btn-danger btn-sm">üóëÔ∏è</a>
    </div>
  </div>

  <br/>

  <div class="card">
    <div class="card-header">
      Update Profile
    </div>
    <div class="card-body">
      <form action="/dashboard" method="POST">
        {{ form.hidden_tag() }}
    
        {{ form.name.label(class="form-label") }}
        {{ form.name(class="form-control", value=user_to_update.name) }}
        
        <br/>
    
        {{ form.email.label(class="form-label") }}
        {{ form.email(class="form-control", value=user_to_update.email) }}
        
        <br/>
    
        {{ form.username.label(class="form-label") }}
        {{ form.username(class="form-control", value=user_to_update.username) }}
        
        <br/>
    
        {{ form.submit(class="btn btn-success btn-sm") }}
    
      </form>
    </div>
  </div>


{% endblock %}